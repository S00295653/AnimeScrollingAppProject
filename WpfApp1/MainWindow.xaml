<Window x:Class="AnimeScrollApp.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Anime Scroll" 
        Height="800" 
        Width="450"
        WindowStyle="None"
        ResizeMode="NoResize"
        Background="Black">

    <Grid>
        <!-- ScrollViewer avec snap -->
        <ScrollViewer x:Name="MainScrollViewer"
                      VerticalScrollBarVisibility="Hidden"
                      HorizontalScrollBarVisibility="Disabled"
                      PanningMode="VerticalOnly"
                      ScrollChanged="MainScrollViewer_ScrollChanged"
                      PreviewMouseWheel="MainScrollViewer_PreviewMouseWheel">

            <StackPanel x:Name="AnimeContainer" MouseLeftButtonDown="AnimeContainer_MouseLeftButtonDown" MouseEnter="AnimeContainer_MouseEnter" MouseMove="AnimeContainer_MouseMove">
                <!-- Les cartes d'anime seront ajoutées ici -->
            </StackPanel>
        </ScrollViewer>

        <!-- Overlay avec contrôles -->
        <Grid VerticalAlignment="Top" HorizontalAlignment="Right" Margin="10">
            <StackPanel>
                <!-- Bouton fermer -->
                <Button Content="✕" 
                        Click="CloseButton_Click"
                        Width="40" 
                        Height="40"
                        FontSize="20"
                        Background="#80000000"
                        Foreground="White"
                        BorderThickness="0"
                        Cursor="Hand"
                        Margin="0,0,0,10"/>

                <!-- Info utilisateur -->
                <Border Background="#80000000" 
                        CornerRadius="20"
                        Padding="10,5,10,5">
                    <TextBlock x:Name="AnimeCounter" 
                               Text="0 animes"
                               Foreground="White"
                               FontSize="12"/>
                </Border>
            </StackPanel>
        </Grid>

        <!-- Indicateur de chargement -->
        <Border x:Name="LoadingIndicator"
                Background="#CC000000"
                Visibility="Collapsed">
            <StackPanel VerticalAlignment="Center" HorizontalAlignment="Center">
                <TextBlock Text="⏳" 
                           FontSize="48" 
                           HorizontalAlignment="Center"
                           Foreground="White"/>
                <TextBlock Text="Chargement..." 
                           FontSize="18" 
                           Foreground="White"
                           HorizontalAlignment="Center"
                           Margin="0,10,0,0"/>
            </StackPanel>
        </Border>
    </Grid>
</Window>